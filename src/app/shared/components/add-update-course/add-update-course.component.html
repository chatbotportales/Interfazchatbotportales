<app-header [isModal]="true" [title]="course ? 'Actualizar Curso' : 'Agregar Curso'"></app-header>

<ion-content>

  <form [formGroup]="form" class="ion-padding ion-text-center" (ngSubmit)="submit()" (keypress.enter)="submit()">
    

    <app-custom-input 
    autocomplete="name"
    [control]="form.controls.name"
    type="text"
    label="Nombre"
    ></app-custom-input>

    <div class="validators" *ngIf="form.controls.name.errors && form.controls.name.touched">
      <div *ngIf="form.controls.name.errors?.['required']">El nombre es obligatorio</div>
      <div *ngIf="form.controls.name.errors?.['minlength']">Minimo 4 caracteres</div>
    </div>

    <app-custom-input 
    autocomplete="description"
    [control]="form.controls.description"
    type="text"
    label="Descripcion"
    ></app-custom-input>

    <div class="validators" *ngIf="form.controls.description.errors && form.controls.description.touched">
      <div *ngIf="form.controls.description.errors?.['required']">La Descripcion es obligatoria</div>
    </div>

    <app-custom-input 
    autocomplete="duration"
    [control]="form.controls.duration"
    type="text"
    label="Duracion"
    ></app-custom-input>

    <div class="validators" *ngIf="form.controls.duration.errors && form.controls.duration.touched">
      <div *ngIf="form.controls.duration.errors?.['required']">La Duracion es obligatoria</div>
    </div>

    <ion-item>
      <ion-label>Estado</ion-label>
      <ion-select formControlName="status" interface="ios">
        <ion-select-option value="activo">Activo</ion-select-option>
        <ion-select-option value="inactivo">Inactivo</ion-select-option>
      </ion-select>
    </ion-item>

    <div class="validators" *ngIf="form.controls.status.errors && form.controls.status.touched">
      <div *ngIf="form.controls.status.errors?.['required']">El Estado es obligatorio</div>
    </div>

    <app-custom-input 
    autocomplete="modality"
    [control]="form.controls.modality"
    type="text"
    label="Modalidad"
    ></app-custom-input>

    <div class="validators" *ngIf="form.controls.modality.errors && form.controls.modality.touched">
      <div *ngIf="form.controls.modality.errors?.['required']">La Modalidad es obligatoria</div>
    </div>

    <app-custom-input 
    autocomplete="prerequisites"
    [control]="form.controls.prerequisites"
    type="text"
    label="Pre-requisitos"
    ></app-custom-input>

    <div class="validators" *ngIf="form.controls.prerequisites.errors && form.controls.prerequisites.touched">
      <div *ngIf="form.controls.prerequisites.errors?.['required']">Los Pre-requisitos son obligatorio</div>
    </div>




    <ion-button mode="ios" class="ion-margin" type="submit" [disabled]="form.invalid">
     {{course ? 'Actualizar Curso' : 'Agregar Curso'}}
      <ion-icon slot="end" name="checkmark-circle-outline"></ion-icon>
    </ion-button>
    
  </form>

</ion-content>